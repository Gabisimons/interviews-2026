package pattern01_arrays_hashing;

import java.util.HashMap;
import java.util.Map;

/*
    ğŸ“ ××” ×”×©××œ×”?  
    ×‘×“×•×§ ×”×× ×©×ª×™ ××—×¨×•×–×•×ª ×”×Ÿ ×× ×’×¨××” (anagram) ×–×• ×©×œ ×–×•.  
    ×›×œ×•××¨ â€“ ×”×× × ×™×ª×Ÿ ×œ×¡×“×¨ ××—×“×© ××ª ×”××•×ª×™×•×ª ×‘××—×¨×•×–×ª ×”×¨××©×•× ×” ×•×œ×§×‘×œ ××ª ×”×©× ×™×™×”.  
    (××•×ª×Ÿ ××•×ª×™×•×ª, ××•×ª×• ××¡×¤×¨ ××•×¤×¢×™× ×œ×›×œ ×ª×•)
*/

/*
    ğŸ’¡ ×”×¡×‘×¨ ×œ×¤×ª×¨×•×Ÿ:  
    × ×‘× ×” ×˜×‘×œ×ª ×¡×¤×™×¨×” (HashMap) ×œ×¡×¤×™×¨×ª ××•×¤×¢×™× ×©×œ ×›×œ ×ª×• ×‘××—×¨×•×–×ª ×”×¨××©×•× ×”,  
    ×•××– × ×¢×‘×•×¨ ×¢×œ ×”×©× ×™×™×” ×•× ×¤×—×™×ª ××ª ×”×¡×¤×™×¨×”.  
    ×‘×¡×•×£, ×× ×œ×›×œ ×”×ª×•×•×™× ×”×¡×¤×™×¨×” ×”×™× ××¤×¡ â€“ ×”××—×¨×•×–×•×ª ×”×Ÿ ×× ×’×¨××”.
*/

public class ValidAnagram {

    public static void main(String[] args) {
        // ×˜×¡×˜×™× ×œ×‘×“×™×§×” ×¢×¦××™×ª
        String s1 = "anagram", t1 = "nagaram";
        String s2 = "rat", t2 = "car";

        System.out.println("Test 1 (Expected: true): " + isAnagram(s1, t1));
        System.out.println("Test 2 (Expected: false): " + isAnagram(s2, t2));
    }

    /**
     * ×¤×•× ×§×¦×™×” ×©×‘×•×“×§×ª ×”×× ×©×ª×™ ××—×¨×•×–×•×ª ×”×Ÿ ×× ×’×¨××•×ª ××—×ª ×©×œ ×”×©× ×™×™×”
     * @param s ××—×¨×•×–×ª ××§×•×¨×™×ª
     * @param t ××—×¨×•×–×ª ×œ×”×©×•×•××”
     * @return true ×× ×”×Ÿ ×× ×’×¨××•×ª, ××—×¨×ª false
     */
    public static boolean isAnagram(String s, String t) {
        // ×× ×”××•×¨×›×™× ×œ× ×©×•×•×™× â€“ ××™ ××¤×©×¨ ×©×™×”×™×• ×× ×’×¨××”
        if (s.length() != t.length()) {
            return false;            
        }

        // ×™×¦×™×¨×ª HashMap ×œ×¡×¤×™×¨×ª ××•×¤×¢×™× ×©×œ ×›×œ ×ª×• ×‘××—×¨×•×–×ª ×”×¨××©×•× ×”
        Map<Character, Integer> map = new HashMap<>();
        for (int i = 0; i < s.length(); i++) {
            // ×”×¢×œ××ª ×”×¡×¤×™×¨×” ×©×œ ×”×ª×• ×”× ×•×›×—×™ ×‘-1 (×× ×œ× ×§×™×™×, × ×§×‘×œ 0)
            map.put(s.charAt(i), map.getOrDefault(s.charAt(i), 0) + 1);
        }

        // ××¢×‘×¨ ×¢×œ ×”×ª×•×•×™× ×‘××—×¨×•×–×ª ×”×©× ×™×™×” ×•×”×¤×—×ª×ª ×”×¡×¤×™×¨×” ×‘-1 ×œ×›×œ ×ª×•
        for (int i = 0; i < t.length(); i++) {
            map.put(t.charAt(i), map.getOrDefault(t.charAt(i), 0) - 1);
        }

        // ×‘×“×™×§×” ×”×× ×›×œ ×”×ª×•×•×™× ×‘×¡×•×£ ×©×•×•×™× ×œ-0
        for (int value : map.values()) {
            if (value != 0) {
                // ×× ××¦×× ×• ×ª×• ×¢× ×¡×¤×™×¨×” ×©×•× ×” ×-0 â€“ ××œ×• ×œ× ×× ×’×¨××•×ª
                return false;
            }
        }
        // ×›×œ ×”×ª×•×•×™× ×”×•×¤×™×¢×• ××•×ª×• ××¡×¤×¨ ×¤×¢××™× â€“ ××œ×• ×× ×’×¨××•×ª
        return true;
    }
}